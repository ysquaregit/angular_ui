<mat-card>
  <mat-card-title fxLayout="row" fxLayoutAlign="start center">
     User Management &nbsp;
      <span fxFlex></span>
      <button mat-raised-button color="blue" (click)="AddUser()" >
          Create New
      </button>      
   </mat-card-title>  
  <hr>
  <mat-card-content>

          <mat-table [dataSource]="dataSource"  matSort matSortActive="email" matSortDirection="asc" matSort>

                  <!-- ID Column -->
                  <ng-container matColumnDef="id">
                    <mat-header-cell *matHeaderCellDef mat-sort-header matSortActive> ID </mat-header-cell>
                    <mat-cell *matCellDef="let row;"> <button mat-raised-button class="minWidth30" (click)="openViewMode(row)" >{{row.id}}</button></mat-cell>
                  </ng-container>

                  <!-- email Column -->
                  <ng-container matColumnDef="email">
                    <mat-header-cell *matHeaderCellDef mat-sort-header > Email </mat-header-cell>
                    <mat-cell *matCellDef="let row" > {{row.email}} </mat-cell>
                  </ng-container>
                  <!-- User Name Column -->
                  <!-- <ng-container matColumnDef="uname">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> User Name </mat-header-cell>
                    <mat-cell *matCellDef="let row"> {{row.uname}} </mat-cell>
                  </ng-container> -->
              
                  <!-- First Name Column -->
                  <ng-container matColumnDef="first_name">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> First Name </mat-header-cell>
                    <mat-cell *matCellDef="let row"> {{row.first_name}} </mat-cell>
                  </ng-container>
              
                  <!-- Last Name Column -->
                  <ng-container matColumnDef="last_name">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Last Name </mat-header-cell>
                    <mat-cell *matCellDef="let row" > {{row.last_name}} </mat-cell>
                  </ng-container>

               
                  <!-- Role Column -->
                  <ng-container matColumnDef="role">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Role </mat-header-cell>
                    <mat-cell *matCellDef="let row" > {{row.role}} </mat-cell>
                  </ng-container>
                  <!-- Permission Column -->
                  <ng-container matColumnDef="permissions">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Permission </mat-header-cell>
                    <mat-cell *matCellDef="let row" ><span class="per-btn" *ngFor="let item of row.permissions.split(',')"  > {{item}}</span> <button mat-raised-button mat-button-sm class="table-action-btn" color="grey" (click)="openPermissionDailogMode(row)" [disabled]="dialogRef"> <mat-icon class="size-16" color="white">more_horiz</mat-icon></button></mat-cell>
                  </ng-container>
                  <!-- Action Column -->
                  <ng-container matColumnDef="action">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Action </mat-header-cell>
                    <mat-cell *matCellDef="let row" >    
                        <button mat-raised-button mat-button-sm class="table-action-btn" color="orange" (click)="manageUser(row)" [disabled]="dialogRef"> <mat-icon class="size-16" color="white">edit</mat-icon></button>
                        <button mat-raised-button mat-button-sm class="table-action-btn" color="red" (click)="openConfirmationDailogMode(row.email)" [disabled]="dialogRef"><mat-icon class="size-16" color="white">close</mat-icon></button>                
                      <!-- <button mat-raised-button class="table-action-btn" color="orange" (click)="open()" [disabled]="dialogRef"> <mat-icon color="white">edit</mat-icon></button>
                      <button mat-raised-button class="table-action-btn" color="red" (click)="open()" [disabled]="dialogRef"> <mat-icon  color="white">close</mat-icon></button> -->
                    </mat-cell>
                  </ng-container>                                                      
                  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                  <mat-row *matRowDef="let row; columns: displayedColumns;">
                  </mat-row>
                </mat-table>
              
                <mat-paginator [pageSizeOptions]="[10]"></mat-paginator>
  </mat-card-content>
</mat-card>


